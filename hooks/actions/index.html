<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Miguel Peixe">
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Action hooks - JEO Theme</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">JEO Theme</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">User tutorials <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../user-tutorials/creating-a-map/">Creating a map</a>
                        </li>
                    
                        <li >
                            <a href="../../user-tutorials/managing-map-group/">Managing map groups</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developer tutorials <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../dev-tutorials/child-theme/">Creating a child theme</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../template-tags/">Template tags</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Action hooks</a>
                        </li>
                    
                        <li >
                            <a href="../filters/">Filter hooks</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../../template-tags/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../filters/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/oeco/jeo">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#core-action-hooks">Core action hooks</a></li>
        
            <li><a href="#jeo_init">jeo_init</a></li>
        
            <li><a href="#jeo_enqueue_scripts">jeo_enqueue_scripts</a></li>
        
            <li><a href="#jeo_map_setup_options">jeo_map_setup_options</a></li>
        
            <li><a href="#jeo_pre_get_map">jeo_pre_get_map</a></li>
        
    
        <li class="main "><a href="#layers-action-hooks">Layers action hooks</a></li>
        
            <li><a href="#jeo_layer_save">jeo_layer_save</a></li>
        
    
        <li class="main "><a href="#markers-action-hooks">Markers action hooks</a></li>
        
            <li><a href="#jeo_markers_enqueue_scripts">jeo_markers_enqueue_scripts</a></li>
        
            <li><a href="#jeo_markers_before_print">jeo_markers_before_print</a></li>
        
            <li><a href="#jeo_markers_after_print">jeo_markers_after_print</a></li>
        
            <li><a href="#jeo_geocode_scripts">jeo_geocode_scripts</a></li>
        
    
        <li class="main "><a href="#post-geocoder-action-hooks">Post geocoder action hooks</a></li>
        
            <li><a href="#jeo_geocode_box">jeo_geocode_box</a></li>
        
            <li><a href="#jeo_geocode_box_save">jeo_geocode_box_save</a></li>
        
    
        <li class="main "><a href="#embed-action-hooks">Embed action hooks</a></li>
        
            <li><a href="#jeo_before_embed">jeo_before_embed</a></li>
        
            <li><a href="#jeo_after_embed">jeo_after_embed</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h2 id="core-action-hooks">Core action hooks</h2>
<h3 id="jeo_init">jeo_init</h3>
<h4 id="description">Description</h4>
<p>This action is called after JEO has loaded. Useful for plugging new features for JEO.</p>
<h4 id="usage">Usage</h4>
<pre><code class="php">&lt;?php
function my_jeo_plugin_init() {
  // Do something here
}
add_action('jeo_init', 'my_jeo_plugin_init');
?&gt;
</code></pre>

<hr />
<h3 id="jeo_enqueue_scripts">jeo_enqueue_scripts</h3>
<h4 id="description_1">Description</h4>
<p>This action is called after JEO core scripts has been loaded.</p>
<h4 id="usage_1">Usage</h4>
<pre><code class="php">&lt;?php
function my_jeo_scripts() {
  wp_enqueue_script('jeo-dependent-script', get_stylesheet_directory_uri() . '/js/script.js');
}
add_action('jeo_enqueue_scripts', 'my_jeo_scripts');
?&gt;
</code></pre>

<hr />
<h3 id="jeo_map_setup_options">jeo_map_setup_options</h3>
<h4 id="description_2">Description</h4>
<p>This action is called inside the map settings metabox. You can create extra fields for your map by hooking into this action.</p>
<h4 id="usage_2">Usage</h4>
<p>This action receives 1 parameter:</p>
<ul>
<li><code>$map_data</code>: The map data of the map being edited</li>
</ul>
<pre><code class="php">&lt;?php
function my_new_setting($map_data) {
  ?&gt;
  &lt;p&gt;
    &lt;label for=&quot;my_new_field&quot;&gt;My field&lt;/label&gt;
    &lt;input id=&quot;my_new_field&quot; type=&quot;text&quot; name=&quot;map_data[my_new_field]&quot; value=&quot;&lt;?php echo $map_data['my_new_field']; ?&gt;&quot; /&gt;
  &lt;/p&gt;
  &lt;?php
}
add_action('jeo_map_setup_options', 'my_new_setting');
?&gt;
</code></pre>

<hr />
<h3 id="jeo_pre_get_map">jeo_pre_get_map</h3>
<h4 id="description_3">Description</h4>
<p>This action is called inside the map query. Useful to modify the map query.</p>
<h4 id="usage_3">Usage</h4>
<p>This action receives 1 parameter:</p>
<ul>
<li><code>$query</code>: the map query</li>
</ul>
<pre><code class="php">&lt;?php
function my_pre_get_map($query) {
  if($_GET['my_input']) {
    // Modifying query here
  }
}
add_action('jeo_pre_get_map', 'my_pre_get_map');
?&gt;
</code></pre>

<hr />
<h2 id="layers-action-hooks">Layers action hooks</h2>
<h3 id="jeo_layer_save">jeo_layer_save</h3>
<h4 id="description_4">Description</h4>
<p>This action is called after a layer is saved.</p>
<h4 id="usage_4">Usage</h4>
<p>Same concept of WordPress' <a href="https://codex.wordpress.org/Plugin_API/Action_Reference/save_post"><code>save_post</code></a> action hook.</p>
<p>This action receives 1 parameter:</p>
<ul>
<li><code>$post_id</code>: The layer post id</li>
</ul>
<pre><code class="php">&lt;?php

function my_layer_save($post_id) {
  // Modify layer
}
add_action('jeo_layer_save', 'my_layer_save');

?&gt;
</code></pre>

<hr />
<h2 id="markers-action-hooks">Markers action hooks</h2>
<h3 id="jeo_markers_enqueue_scripts">jeo_markers_enqueue_scripts</h3>
<h4 id="description_5">Description</h4>
<p>This action is called after the markers scripts has been loaded.</p>
<h4 id="usage_5">Usage</h4>
<pre><code class="php">&lt;?php
function my_jeo_markers_scripts() {
  wp_enqueue_script('jeo-markers-dependent-script', get_stylesheet_directory_uri() . '/js/markers-script.js');
}
add_action('jeo_markers_enqueue_scripts', 'my_jeo_markers_scripts');
?&gt;
</code></pre>

<hr />
<h3 id="jeo_markers_before_print">jeo_markers_before_print</h3>
<h4 id="description_6">Description</h4>
<p>This action is called before the markers GeoJSON is printed on the page.</p>
<h4 id="usage_6">Usage</h4>
<p>You can use it to modify the headers.</p>
<pre><code class="php">&lt;?php
function my_markers_before_print() {
  if(isset($_GET['download'])) {
    header('Content-Disposition: attachment;');
  }
}
add_action('jeo_markers_before_print', 'my_markers_before_print');
?&gt;
</code></pre>

<hr />
<h3 id="jeo_markers_after_print">jeo_markers_after_print</h3>
<h4 id="description_7">Description</h4>
<p>This action is called after the markers GeoJSON is printed on the page.</p>
<h4 id="usage_7">Usage</h4>
<pre><code class="php">&lt;?php
function my_markers_after_print() {
  // Do something here
}
add_action('jeo_markers_after_print', 'my_markers_after_print');
?&gt;
</code></pre>

<hr />
<h3 id="jeo_geocode_scripts">jeo_geocode_scripts</h3>
<h4 id="description_8">Description</h4>
<p>This action is called after the post geocoder scripts has been loaded.</p>
<h4 id="usage_8">Usage</h4>
<pre><code class="php">&lt;?php
function my_geocode_scripts() {
    wp_enqueue_script('geocode-dependent-script', get_stylesheet_directory_uri() . '/js/geocode-script.js');
}
add_action('jeo_geocode_scripts', 'my_geocode_scripts');
?&gt;
</code></pre>

<hr />
<h2 id="post-geocoder-action-hooks">Post geocoder action hooks</h2>
<h3 id="jeo_geocode_box">jeo_geocode_box</h3>
<h4 id="description_9">Description</h4>
<p>This action is called inside the post geocoder metabox, after the main form fields.</p>
<h4 id="usage_9">Usage</h4>
<p>This action receives 1 parameter:</p>
<ul>
<li><code>$post</code>: the post object being edited</li>
</ul>
<pre><code class="php">&lt;?php
function my_geocode_box_fields($post) {
  $field = get_post_meta($post-&gt;ID, 'my_new_field', true);
  ?&gt;
  &lt;p&gt;
    &lt;label for=&quot;my_new_field&quot;&gt;My field&lt;/label&gt;
    &lt;input id=&quot;my_new_field&quot; type=&quot;text&quot; name=&quot;my_new_field&quot; value=&quot;&lt;?php echo $field; ?&gt;&quot; /&gt;
  &lt;/p&gt;
  &lt;?php
}
add_action('jeo_geocode_box', 'my_geocode_box_fields');
?&gt;
</code></pre>

<hr />
<h3 id="jeo_geocode_box_save">jeo_geocode_box_save</h3>
<h4 id="description_10">Description</h4>
<p>This action is called after the post geocode data is saved.</p>
<h4 id="usage_10">Usage</h4>
<p>This action receives 1 parameter:</p>
<ul>
<li><code>$post_id</code>: the ID of saved post</li>
</ul>
<pre><code class="php">&lt;?php
function my_geocode_save($post_id) {
  if(isset($_REQUEST['my_new_field'])) {
    update_post_meta($post-&gt;ID, 'my_new_field', $_REQUEST['my_new_field']);
  }
}
add_action('jeo_geocode_box_save', 'my_geocode_save');
?&gt;
</code></pre>

<hr />
<h2 id="embed-action-hooks">Embed action hooks</h2>
<h3 id="jeo_before_embed">jeo_before_embed</h3>
<h4 id="description_11">Description</h4>
<p>This action is called before the embed template is displayed.</p>
<h4 id="usage_11">Usage</h4>
<pre><code class="php">&lt;?php
function my_before_embed_content() {
  ?&gt;
  &lt;p&gt;Some content here&lt;/p&gt;
  &lt;?php
}
add_action('jeo_before_embed', 'my_before_embed_content');
?&gt;
</code></pre>

<hr />
<h3 id="jeo_after_embed">jeo_after_embed</h3>
<h4 id="description_12">Description</h4>
<p>This action is called after the embed template is displayed.</p>
<h4 id="usage_12">Usage</h4>
<pre><code class="php">&lt;?php
function my_after_embed_content() {
  ?&gt;
  &lt;p&gt;Some content here&lt;/p&gt;
  &lt;?php
}
add_action('jeo_after_embed', 'my_before_embed_content');
?&gt;
</code></pre>

<hr /></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>